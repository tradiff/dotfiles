[include]
    path = .gitconfig_user

[core]
    editor = code --wait
    excludesFile = ~/.gitignore_global

[alias]
    br = branch
    sw = switch
    main = !git switch main && git pull
    rs = reset --hard
    uncommit = reset --soft HEAD~1

    # commit changes (if any) using the "WIP" message and check out main
    wip = !(git diff --quiet HEAD || git commit -am "WIP") && git switch main && git fetch

    # delete any branches that have been pushed and then deleted upstream
    cleanup = !git switch main && git fetch -p && git branch -vv | awk '/: gone]/{print $1}' | xargs git branch -D

[push]
    default = current
    autoSetupRemote = true

[fetch]
    prune = true

